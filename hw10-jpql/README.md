Домашнее задание

Использование Hibernate

Цель: На практике освоить основы Hibernate.
Понять как аннотации-hibernate влияют на формирование sql-запросов.
Работа должна использовать базу данных H2.

Возьмите за основу предыдущее ДЗ (Самодельный ORM),
используйте предложенный на вебинаре api (пакет api)
и реализуйте функционал сохранения и чтения объекта User через Hibernate.

(Рефлексия больше не нужна)

Конфигурация Hibernate должна быть вынесена в файл.

Добавьте в User поля:

адрес (OneToOne)

class AddressDataSet {

private String street;

}

и телефон (OneToMany)

class PhoneDataSet {

private String number;

}

Разметьте классы таким образом, чтобы при сохранении/чтении объека User каскадно сохранялись/читались вложенные объекты.

ВАЖНО.

1) Hibernate должен создать только три таблицы: для телефонов, адресов и пользователей.

2) При сохранении нового объекта не должно быть update-ов.

Посмотрите в логи и проверьте, что эти два требования выполняются.

Критерии оценки: Система оценки максимально соответсвует привычной школьной:

3 и больше - задание принято (удовлетворительно).
ниже - задание возвращается на доработку.

Задание не принимается, если основной функционал не работает или есть критические недостатки (например, copy-past кода, классы на 100500 строк, sql-конкатенация, race condition и т.д.).
Если все работает и критических недостатоков нет, то:
- 3 - можно мержить, но есть неприятные недочеты, которые хорошо бы поправить.
- 4 - можно мержить, но есть недочеты.
- 5 - можно мержить, отличная работа. (при этом могут быть мелкие субъективные шероховатости) 